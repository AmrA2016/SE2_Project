package com.se_project.controllers;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RestController;

import com.se_project.controllers.services.CommentRepoService;
import com.se_project.controllers.services.GameRepositoryService;
import com.se_project.models.Game;
import com.se_project.models.Student;

@RestController
public class CommentController {
	
	@Autowired
	GameRepositoryService gameRepoService;
	
	@Autowired
	CommentRepoService commentRepoService;
	
	public void AddComment(String commentText, String username,long gid )
	{
	    Game game = gameRepoService.getGame(gid);
	   com.se_project.models.Comment comment = new com.se_project.models.Comment();
	   Student student = new Student();
	   student.setUsername(username);
	   comment.setStudent(student);
	   comment.setGid(gid);
	   comment.setComment(commentText);
	   game.AddToComments(comment);
	   commentRepoService.CreateComment(comment);   
	    
	}
	
}
