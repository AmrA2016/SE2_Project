package com.se_project.controllers.services;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.se_project.models.Game;
import com.se_project.models.TFGame;
import com.se_project.models.TFQuestion;

@Service
public class GameFactoryService {
	@Autowired
	GameRepositoryService gameRepoService;

	@Autowired
	TFQuestionRepositoryService tfQuestionRepoService;

	@Autowired
	MCQQuestionRepositoryService mcqQuestionRepoService;
	
	public Game getCopyOfGame(long gameId,String type){
		
		Game temp = gameRepoService.getGame(gameId);
		
		if(type.equals("MCQ")){
			
		}
		else if(type.equals("TF")){
			TFGame tfGame = new TFGame();
			
			tfGame.setName(temp.getName());
			tfGame.setGid(temp.getGid());
			tfGame.setDescription(temp.getDescription());
			tfGame.setImage(temp.getImage());
			tfGame.setCourse(temp.getCourse());
			
			List<TFQuestion> tfQuestionsList = tfQuestionRepoService.getQuestionsOfGame(gameId);
			TFQuestion[] tfquestions = new TFQuestion[5];
			for(int i =0;i < 5;i++){
				if(i < tfQuestionsList.size())
					tfquestions[i] = tfQuestionsList.get(i);
				else
					tfquestions[i] = new TFQuestion();
			}
			
			tfGame.setTfquestions(tfquestions);
			tfGame.setNumberOfQuestions(tfQuestionsList.size());
			return tfGame;
		}
		
	}
	

}
